DROP TABLE IF EXISTS jp_monitor_minute;
CREATE TABLE jp_monitor_minute (
  mn varchar(27) NOT NULL,
  factor_code varchar(6) NOT NULL,
  mtime datetime NOT NULL,
  val_cou DECIMAL(16,6) DEFAULT NULL COMMENT '累计值',
  val_min DECIMAL(16,6) DEFAULT NULL COMMENT '最小值',
  val_avg DECIMAL(16,6) DEFAULT NULL COMMENT '平均值',
  val_max DECIMAL(16,6) DEFAULT NULL COMMENT '最大值',
  flag_mark varchar(1) DEFAULT NULL COMMENT '数据标记',
  utime timestamp NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (mn,factor_code,mtime)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 PARTITION BY RANGE(to_days(mtime)) (
	PARTITION p201901 VALUES LESS THAN (to_days('2019-01-01')),
	PARTITION p201902 VALUES LESS THAN (to_days('2019-02-01')),
	PARTITION p201903 VALUES LESS THAN (to_days('2019-03-01')),
	PARTITION p201904 VALUES LESS THAN (to_days('2019-04-01')),
	PARTITION p201905 VALUES LESS THAN (to_days('2019-05-01')),
	PARTITION p201906 VALUES LESS THAN (to_days('2019-06-01')),
	PARTITION p201907 VALUES LESS THAN (to_days('2019-07-01')),
	PARTITION p201908 VALUES LESS THAN (to_days('2019-08-01')),
	PARTITION p201909 VALUES LESS THAN (to_days('2019-09-01')),
	PARTITION p201910 VALUES LESS THAN (to_days('2019-10-01')),
	PARTITION p201911 VALUES LESS THAN (to_days('2019-11-01')),
	PARTITION p201912 VALUES LESS THAN (to_days('2019-12-01')),

	PARTITION p202001 VALUES LESS THAN (to_days('2020-01-01')),
	PARTITION p202002 VALUES LESS THAN (to_days('2020-02-01')),
	PARTITION p202003 VALUES LESS THAN (to_days('2020-03-01')),
	PARTITION p202004 VALUES LESS THAN (to_days('2020-04-01')),
	PARTITION p202005 VALUES LESS THAN (to_days('2020-05-01')),
	PARTITION p202006 VALUES LESS THAN (to_days('2020-06-01')),
	PARTITION p202007 VALUES LESS THAN (to_days('2020-07-01')),
	PARTITION p202008 VALUES LESS THAN (to_days('2020-08-01')),
	PARTITION p202009 VALUES LESS THAN (to_days('2020-09-01')),
	PARTITION p202010 VALUES LESS THAN (to_days('2020-10-01')),
	PARTITION p202011 VALUES LESS THAN (to_days('2020-11-01')),
	PARTITION p202012 VALUES LESS THAN (to_days('2020-12-01')),

	PARTITION p202101 VALUES LESS THAN (to_days('2021-01-01')),
	PARTITION p202102 VALUES LESS THAN (to_days('2021-02-01')),
	PARTITION p202103 VALUES LESS THAN (to_days('2021-03-01')),
	PARTITION p202104 VALUES LESS THAN (to_days('2021-04-01')),
	PARTITION p202105 VALUES LESS THAN (to_days('2021-05-01')),
	PARTITION p202106 VALUES LESS THAN (to_days('2021-06-01')),
	PARTITION p202107 VALUES LESS THAN (to_days('2021-07-01')),
	PARTITION p202108 VALUES LESS THAN (to_days('2021-08-01')),
	PARTITION p202109 VALUES LESS THAN (to_days('2021-09-01')),
	PARTITION p202110 VALUES LESS THAN (to_days('2021-10-01')),
	PARTITION p202111 VALUES LESS THAN (to_days('2021-11-01')),
	PARTITION p202112 VALUES LESS THAN (to_days('2021-12-01')),

	PARTITION p202201 VALUES LESS THAN (to_days('2022-01-01')),
	PARTITION p202202 VALUES LESS THAN (to_days('2022-02-01')),
	PARTITION p202203 VALUES LESS THAN (to_days('2022-03-01')),
	PARTITION p202204 VALUES LESS THAN (to_days('2022-04-01')),
	PARTITION p202205 VALUES LESS THAN (to_days('2022-05-01')),
	PARTITION p202206 VALUES LESS THAN (to_days('2022-06-01')),
	PARTITION p202207 VALUES LESS THAN (to_days('2022-07-01')),
	PARTITION p202208 VALUES LESS THAN (to_days('2022-08-01')),
	PARTITION p202209 VALUES LESS THAN (to_days('2022-09-01')),
	PARTITION p202210 VALUES LESS THAN (to_days('2022-10-01')),
	PARTITION p202211 VALUES LESS THAN (to_days('2022-11-01')),
	PARTITION p202212 VALUES LESS THAN (to_days('2022-12-01')),

	PARTITION p202301 VALUES LESS THAN (to_days('2023-01-01')),
	PARTITION p202302 VALUES LESS THAN (to_days('2023-02-01')),
	PARTITION p202303 VALUES LESS THAN (to_days('2023-03-01')),
	PARTITION p202304 VALUES LESS THAN (to_days('2023-04-01')),
	PARTITION p202305 VALUES LESS THAN (to_days('2023-05-01')),
	PARTITION p202306 VALUES LESS THAN (to_days('2023-06-01')),
	PARTITION p202307 VALUES LESS THAN (to_days('2023-07-01')),
	PARTITION p202308 VALUES LESS THAN (to_days('2023-08-01')),
	PARTITION p202309 VALUES LESS THAN (to_days('2023-09-01')),
	PARTITION p202310 VALUES LESS THAN (to_days('2023-10-01')),
	PARTITION p202311 VALUES LESS THAN (to_days('2023-11-01')),
	PARTITION p202312 VALUES LESS THAN (to_days('2023-12-01'))
);